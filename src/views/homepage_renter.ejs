<!DOCTYPE html>
<html>
    <head>
        <title>homepage</title>
        <link rel="stylesheet" type="text/css" href="../css/main.css">
        <link rel="stylesheet" type="text/css" href="../css/modal.css">
        <meta charset="UTF-8">
        <link rel="icon" href="SCE%20ROOM.png">
    </head>
    <body>
         <%- include("./partials/logout.ejs") %>
         <% function refAttr(ref)
          {
            if (ref == null) {
              return {username: "None"} //put here all the attributes you want to cover
            }
            // ref path is divided by a "/ and contains the collection name and the unique id
            let database=locals[ref.path.split("/")[0]]
            for (var i=0;i<database.length;i++) {
              if (database[i].id == ref.path.split("/")[1] ) { //if found the specific id (which is unique)
                 return database[i].data()
               }
             }
         }%>
         <h1>SCE Room</h1>
         <h2 id="welcome">Welcome</h2>
        <button class="modalButton">Post housing unit</button><br>
        <button class="modalButton" id="housing_units">Your housing units</button><br>
        <button class="modalButton">Watch Reviews</button><br>
        <button class="modalButton">View housing units orders</button><br>
        <button class="modalButton">View statistics</button><br>

        <!-- The authorizing Modal -->
        <div class="modal">
          <!-- Modal content -->
            <div class="modal-content">
              <div class="modal-header">
                <span class="close">&times;</span>
                <h2>Post housing Unit</h2>
              </div>
              <div class="modal-body">
                <ul>
                  <form method="post" action="/homepage_renter/post_housing_unit">
                    <label for="city">City</label>
                    <input placeholder="city" type="text" name="city" required><br><br>
                    <label for="street">Street</label>
                    <input placeholder="street" type="text"  name="street" required><br><br>
                    <label for="house_number">House Number</label>
                    <input placeholder="house_number" type="text" name="house_number" required><br><br>
                    <label for="price">Price / Month</label>
                    <input placeholder="price" type="number" name="price" required><br><br>
                    <label for="phone">Contact Phone Number</label>
                    <input type="tel" id="phone" name="phone" placeholder="phone" required required><br><br>
                    <label for="rooms_num">Number of Rooms</label>
                    <input placeholder="number of rooms" type="number" name="rooms_num" required><br><br>
                    <label for="rent range">Rent Months Range (Min/Max)</label>
                    <input min="0" placeholder="min" type="number" name="min_rent_time" value=0 required>&nbsp;
                    <input min="1" placeholder="max" type="number" name="max_rent_time" value=1 required><br><br>
                    <label for="description">Description</label><br>
                    <textarea rows="10" cols="50" placeholder="description" type="text" name="description"></textarea><br><br>
                    <label for="img">Add Unit Photo</label>
                    <input id="house_img" type="file" name="image" accept="image/*"><br><br>
                    <input  id="SendRId" type="text" name="user_id" value=RetriveUId() style="display: none;visibility: hidden;">
                    <input class= "button" type="submit" value="Post">
                  </form>
                </ul>
              </div>
            </div>
        </div>

        <!-- The banning Modal -->
        <div class="modal">
          <!-- Modal content -->
            <div class="modal-content">
              <div class="modal-header">
                <span class="close">&times;</span>
                <h2>Your housing units</h2>
              </div>
              <div class="modal-body">
                  <div class = "unitCardsContainer">
                  </div>
              </div>
            </div>
        </div>
        <!-- The delete reviews Modal -->
        <div class="modal">
          <!-- Modal content -->
            <div class="modal-content">
              <div class="modal-header">
                <span class="close">&times;</span>
                <h2>Delete Reviews</h2>
              </div>
              <div class="modal-body">
                <ul>

                </ul>
              </div>
            </div>
        </div>
        <div class="modal">
          <!-- Modal content -->
            <div class="modal-content">
              <div class="modal-header">
                <span class="close">&times;</span>
                <h2>Housing Units</h2>
              </div>
              <div class="modal-body">
                <ul>

                </ul>
              </div>
            </div>
        </div>
        <div class="modal">
          <!-- Modal content -->
            <div class="modal-content">
              <div class="modal-header">
                <span class="close">&times;</span>
                <h2>Housing Units</h2>
              </div>
              <div class="modal-body">
                <ul>


                </ul>
              </div>
            </div>
        </div>
        <%- include("./partials/firebase.ejs") %>
        <script type="text/javascript" src="../modal.js"></script>
        <script type="text/javascript" src="../user.js"></script>
        <script type="text/javascript" src="../renter.js"></script>
      </body>
