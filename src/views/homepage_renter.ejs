<!DOCTYPE html>
<html>
    <head>
        <title>homepage</title>
        <link rel="stylesheet" type="text/css" href="../css/main.css">
        <link rel="stylesheet" type="text/css" href="../css/modal.css">
        <meta charset="UTF-8">
        <link rel="icon" href="SCE%20ROOM.png">
    </head>
    <body>
         <%- include("./partials/logout.ejs") %>
         <h1>SCE Room</h1>
         <h2 id="welcome">Welcome</h2>
        <button class="modalButton">Post housing unit</button><br>
        <form method="post" action="/homepage_renter/manage">
          <input  class="SendRId" type="text" name="user_id" value=RetriveUId()" style="display: none;visibility: hidden;">
          <button type="submit" class="button">Your housing units</button><br>
        </form>
        <form method="post" action="/homepage_renter/user_reviews">
          <input  class="SendRId" type="text" name="user_id" value=RetriveUId()" style="display: none;visibility: hidden;">
          <button type="submit" class="button">Watch Reviews about me</button><br>
        </form>
        <form method="post" action="/homepage_renter/your_orders">
          <input  class="SendRId" type="text" name="user_id" value=RetriveUId() style="display: none;visibility: hidden;">
          <button type="submit" class="button">View housing units orders</button><br>
        </form>
        <form method="post" action="/homepage_renter/statistics">
            <input  class="SendRId" type="text" name="user_id" value=RetriveUId() style="display: none;visibility: hidden;">
            <button type="submit" class="button">View statistics</button><br>
        </form>

        <!-- The authorizing Modal -->
        <div class="modal">
          <!-- Modal content -->
            <div class="modal-content">
              <div class="modal-header">
                <span class="close">&times;</span>
                <h2>Post housing Unit</h2>
              </div>
              <div class="modal-body">
                <ul>
                  <form id="addHousingForm" method="post" action="/homepage_renter/post_housing_unit">
                    <label for="city">city</label>
                    <input placeholder="city" type="text" name="city" required><br><br>
                    <label for="street">street</label>
                    <input placeholder="street" type="text"  name="street" required><br><br>
                    <label for="house_number">house_number</label>
                    <input placeholder="house_number" type="text" name="house_number" required><br><br>
                    <label for="price">price per month</label>
                    <input placeholder="price" type="number" name="price" required><br><br>
                    <label for="phone">contact number</label>
                    <input type="tel" id="phone" name="phone" placeholder="phone" required required><br><br>
                    <label for="rooms_num">number of rooms</label>
                    <input placeholder="number of rooms" type="number" name="rooms_num" required><br><br>
                    <label for="rent range">rent months range (min/max)</label>
                    <input min="0" placeholder="min" type="number" name="min_rent_time" value=0 required>&nbsp;
                    <input min="1" placeholder="max" type="number" name="max_rent_time" value=1 required><br><br>
                    <label for="description">description</label><br>
                    <textarea rows="10" cols="50" placeholder="description" type="text" name="description"></textarea><br><br>
                    <label for="img">Add housing unit photo</label>
                    <input id="house_img" type="file" name="image" accept="image/*"><br><br>
                    <input  class="SendRId" type="text" name="user_id" value=RetriveUId() style="display: none;visibility: hidden;">
                    <input class= "button" type="submit" value="Post">
                  </form>
                </ul>
              </div>
            </div>
        </div>



        <%- include("./partials/firebase.ejs") %>
        <script type="text/javascript" src="../firebase/signout.js"></script>
        <script type="text/javascript" src="../utility/modal.js"></script>
        <script type="text/javascript" src="../utility/user.js"></script>
        <script type="text/javascript" src="../pageScripts/renter.js"></script>
        <!--<script> getRId(){return auth.currentUser.uid}</script> -->
          <script>
            auth.onAuthStateChanged(function(user) {
              /* sends a hidden user ID element to an html value
              to identify with the server side. */
              if (user && auth.currentUser )
                  var Rid=document.getElementsByClassName("SendRId")
                  Array.prototype.forEach.call(Rid,((id) => {
                    id.value=auth.currentUser.uid
                  }) //closes the inner function
                ) //closes the call function
            }) //closes the script
          </script>
      </body>
